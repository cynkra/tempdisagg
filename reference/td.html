<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Temporal Disaggregation of Time Series — td • tempdisagg</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Temporal Disaggregation of Time Series — td"><meta name="description" content='Perform temporal disaggregation or interpolation of low frequency to high
frequency time series. td can be used with objects of class
"ts", with numeric vectors or with any
ts-boxable time series object.'><meta property="og:description" content='Perform temporal disaggregation or interpolation of low frequency to high
frequency time series. td can be used with objects of class
"ts", with numeric vectors or with any
ts-boxable time series object.'><script defer data-domain="tempdisagg.cynkra.com" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://cynkra.com" class="external-link logo-cynkra"><img src="https://cynkra.com/assets/img/logo-cynkra-square.svg" alt="cynkra" width="100" height="100"><div class="sr-only">cynkra</div></a>
    <a class="navbar-brand me-2" href="../index.html">tempdisagg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
        <!-- empty ul needed otherwise everything on the left -->
        <ul class="navbar-nav me-auto"></ul><ul class="navbar-nav"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/hf-disagg.html">Temporal Disaggregation to High-Frequency</a></li>
    <li><a class="dropdown-item" href="../articles/intro.html">Temporal Disaggregation of Time Series</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
            <li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cynkra/tempdisagg/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
        </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Temporal Disaggregation of Time Series</h1>
      <small class="dont-index">Source: <a href="https://github.com/cynkra/tempdisagg/blob/main/R/td.R" class="external-link"><code>R/td.R</code></a></small>
      <div class="d-none name"><code>td.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Perform temporal disaggregation or interpolation of low frequency to high
frequency time series. <code>td</code> can be used with objects of class
<code>"ts"</code>, with numeric vectors or with any
<a href="https://docs.ropensci.org/tsbox/" class="external-link">ts-boxable</a> time series object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">td</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  conversion <span class="op">=</span> <span class="st">"sum"</span>,</span>
<span>  to <span class="op">=</span> <span class="st">"quarterly"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"chow-lin-maxlog"</span>,</span>
<span>  truncated.rho <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  fixed.rho <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  criterion <span class="op">=</span> <span class="st">"proportional"</span>,</span>
<span>  h <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  start <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>an object of class <code>"formula"</code>: a symbolic
description of the the temporal disaggregation model. The details of model
specification are given under 'Details'.</p></dd>


<dt id="arg-conversion">conversion<a class="anchor" aria-label="anchor" href="#arg-conversion"></a></dt>
<dd><p>type of conversion: <code>"sum"</code>, <code>"mean"</code> (or: <code>"average"</code>),
<code>"first"</code> or <code>"last"</code>.</p></dd>


<dt id="arg-to">to<a class="anchor" aria-label="anchor" href="#arg-to"></a></dt>
<dd><p>high-frequency destination frequency as a character string
(<code>"quarter"</code> (or <code>"quarterly"</code>), <code>"month"</code> (or <code>"monthly"</code>), <code>"day"</code>,
<code>"hour"</code>, <code>"minute"</code>, <code>"second"</code>, or <code>"year"</code>)
or as a scalar (e.g. <code>2</code>, <code>4</code>, <code>7</code>, <code>12</code>). Required if no right hand side
indicator series is provided. The <a href="https://docs.ropensci.org/tsbox/" class="external-link">tsbox</a> package must
be installed to deal with frequencies other than monthly or quarterly. If
the input series are numeric, <code>to</code> is a scalar indicating the
frequency ratio.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>method of temporal disaggregation:
<code>"chow-lin-maxlog"</code>, <code>"chow-lin-minrss-ecotrim"</code>,
<code>"chow-lin-minrss-quilis"</code>, <code>"chow-lin-fixed"</code>,
<code>"dynamic-maxlog"</code> (experimental), <code>"dynamic-minrss"</code> (experimental), <code>"dynamic-fixed"</code> (experimental),
<code>"fernandez"</code>, <code>"litterman-maxlog"</code>, <code>"litterman-minrss"</code>,
<code>"litterman-fixed"</code>, <code>"denton-cholette"</code>, <code>"denton"</code>, <code>"fast"</code>,
<code>"uniform"</code> or <code>"ols"</code>. See 'Details'.</p></dd>


<dt id="arg-truncated-rho">truncated.rho<a class="anchor" aria-label="anchor" href="#arg-truncated-rho"></a></dt>
<dd><p>lower bound for the autoregressive parameter
\(\rho\). If set to <code>0</code> (default), no negative values are allowed.
If set to <code>-1</code>, truncation is disabled.</p></dd>


<dt id="arg-fixed-rho">fixed.rho<a class="anchor" aria-label="anchor" href="#arg-fixed-rho"></a></dt>
<dd><p>set a predefined autoregressive parameter \(\rho\). Only
works with the methods <code>"chow-lin-fixed"</code> and
<code>"litterman-fixed"</code>.</p></dd>


<dt id="arg-criterion">criterion<a class="anchor" aria-label="anchor" href="#arg-criterion"></a></dt>
<dd><p>minimzation criterion for Denton methods:
<code>"proportional"</code> or <code>"additive"</code>.  See 'Details'.</p></dd>


<dt id="arg-h">h<a class="anchor" aria-label="anchor" href="#arg-h"></a></dt>
<dd><p>degree of differencing for Denton methods. See 'Details'.</p></dd>


<dt id="arg-start">start<a class="anchor" aria-label="anchor" href="#arg-start"></a></dt>
<dd><p>(optional) start date. Similar to pre-processing the input
series with <code><a href="https://rdrr.io/r/stats/window.html" class="external-link">window()</a></code>.</p></dd>


<dt id="arg-end">end<a class="anchor" aria-label="anchor" href="#arg-end"></a></dt>
<dd><p>(optional) end date. Similar to pre-processing the input
series with <code><a href="https://rdrr.io/r/stats/window.html" class="external-link">window()</a></code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments to be passed to the low level
subfunctions.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>td</code> returns an object of class <code>"td"</code>.</p>
<p>The function <code><a href="predict.td.html">predict()</a></code> computes the interpolated
high frequency series. If the high-frequency indicator series are longer
than the low-frequency series, the resulting series will be extrapolated.
The function <code>coefficients</code> extracts the coefficients. The function
<code>residuals</code> extracts the low frequency residuals. The function
<code><a href="summary.td.html">summary()</a></code> prints a summary of the estimation.</p>
<p>An object of class <code>"td"</code> is a list containing the following
components:</p>
<dl><dt>values</dt>
<dd><p>disaggregated or interpolated (and extrapolated)
high frequency series</p></dd>
 <dt>fitted.values</dt>
<dd><p>low frequency fitted values of
the regression; low frequency indicator for the Denton methods.</p></dd>

<dt>p</dt>
<dd><p>preliminary high frequency series</p></dd>
 <dt>residuals</dt>
<dd><p>low-frequency
residuals</p></dd>
 <dt>rho</dt>
<dd><p>autoregressive parameter, \(\rho\)</p></dd>

<dt>truncated</dt>
<dd><p>logical, whether \(\rho\) has been truncated</p></dd>

<dt>coefficients</dt>
<dd><p>a named vector of coefficients</p></dd>
 <dt>se</dt>
<dd><p>standard
errors of the coefficients</p></dd>
 <dt>s_2</dt>
<dd><p>ML-estimator of the variance of the
high-frequency residuals</p></dd>
 <dt>s_2_gls</dt>
<dd><p>GLS-estimator of the variance of
the high-frequency residuals</p></dd>
 <dt>tss</dt>
<dd><p>weighted (low frequency) total sum
of squares</p></dd>
 <dt>rss</dt>
<dd><p>weighted (low frequency) residual sum of squares</p></dd>

<dt>r.squared</dt>
<dd><p>R squared</p></dd>
 <dt>adj.r.squared</dt>
<dd><p>adjusted R squared</p></dd>

<dt>logl</dt>
<dd><p>log-likelihood</p></dd>
 <dt>aic</dt>
<dd><p>Akaike information criterion</p></dd>

<dt>bic</dt>
<dd><p>Schwarz information criterion</p></dd>
 <dt>rank</dt>
<dd><p>number of right hand
variables (including intercept)</p></dd>
 <dt>df</dt>
<dd><p>degrees of freedom</p></dd>

<dt>method</dt>
<dd><p>method of temporal disaggregation</p></dd>
 <dt>call</dt>
<dd><p>function call</p></dd>

<dt>name</dt>
<dd><p>name of the low frequency variable</p></dd>
 <dt>fr</dt>
<dd><p>the ratio of high
to low-frequency series</p></dd>
 <dt>conversion</dt>
<dd><p>type of temporal conversion</p></dd>

<dt>actual</dt>
<dd><p>actual values of the low frequeny series</p></dd>
 <dt>model</dt>
<dd><p>a
matrix containing the indicators (and a constant if present)</p></dd>

<dt>criterion</dt>
<dd><p>minimization criterion in Denton methods</p></dd>
 <dt>h</dt>
<dd><p>order
of differencing in Denton methods</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>td</code> is used to disaggregate or interpolate a low frequency to a higher
frequency time series, while either the sum, the average, the first or the
last value of the resulting high-frequency series is consistent with the low
frequency series. Disaggregation can be performed with or without the help of
one or more right hand side indicator series. It can deal with both with
a regular disaggregation setting (e.g. quarters to months) but also with
an irregular disaggregation setting (e.g. months to days), where it respects
the the different lengths of the months.</p>
<p>If the high-frequency indicator(s) cover(s) a longer time span than the
low-frequency series, an extrapolation or retropolation (Wei, 1994, p. 138)
is performed, using the same model as for interpolation.</p>
<p>The selection of a temporal disaggregation model is similar to the selection
of a linear regression model. Thus, <code>td</code> closely mirrors the working of
the <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> function. The left hand side of the
<code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula()</a></code> denotes the low-frequency series, the right hand side
the indicators. If no indicator is specified, the right hand side must be set
equal to <code>1</code> (see examples). Unlike <code>lm</code>, <code>td</code> handles
<code><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts()</a></code> and <code>mts</code> time-series objects, as a typical application
involves the use of these objects. Alternatively, If used with basic vectors,
the <code>to</code> argument specifies the ratio between the high and the low
frequency series.</p>
<p>For the generalized least squares (GLS) methods <code>"chow-lin-maxlog"</code>,
<code>"chow-lin-minrss-ecotrim"</code>, <code>"chow-lin-minrss-quilis"</code>,
<code>"litterman-maxlog"</code> and <code>"litterman-minrss"</code>, an autoregressive
parameter \(\rho\) is estimated. Default (and recommended) method is
<code>chow-lin-maxlog</code>. With <code>truncated.rho = 0</code> (default), it produces
good results for a wide range of applications.</p>
<p>There are two variants of the <code>chow-lin-minrss</code> approach that lead to
different results: Ecotrim by Barcellan (2003) uses a correlation matrix
instead of the variance covariance matrix (implemented in
<code>"chow-lin-minrss-ecotrim"</code>), the Matlab library by Quilis (2009)
multiplies the correlation matrix with \(1/(1-\rho^2)\) (implemented in
<code>"chow-lin-minrss-quilis"</code>).</p>
<p>The methods <code>"dynamic-maxlog"</code>, <code>"dynamic-minrss"</code> and
<code>"dynamic-fixed"</code> are dynamic extensions of Chow-Lin (Santos Silva and
Cardoso, 2001). If the autoregressive parameter \(\rho\) is equal to 0, no
truncation remainder is added.</p>
<p>The Denton methods <code>"denton"</code> and <code>"denton-cholette"</code> can be
specified with one or without an indicator. The parameter <code>h</code> can be set
equal to <code>0</code>, <code>1</code>, or <code>2</code>. Depending on the value, the
<code>denton</code> procedure minimizes the sum of squares of the deviations
between the levels (<code>0</code>), the first differences (<code>1</code>) or the second
differences (<code>2</code>) of the indicator and the resulting series.
Additionally, <code>criterion</code> can be set equal to <code>"proportional"</code> or
<code>"additive"</code>, depending on whether the proportional or the absolute
deviations should be considered for minimzation. <code>"denton-cholette"</code>
removes the transient movement of the original <code>"denton"</code> method at the
beginning of the resulting series.  <code>"fast"</code> is a shortcut for
<code>"chow-lin-fixed"</code> with <code>fixed.rho = 0.99999</code>. It returns approximately the
same results as "denton-cholette" with <code>h = 1</code>, but is much faster.</p>
<p><code>"uniform"</code> is a special case of the <code>"denton"</code> approach, with
<code>h</code> equals  <code>0</code> and <code>criterion</code> equals  <code>"additive"</code>.
It distributes the residuals uniformly. If no indicator is used, this leads
to a step-shaped series.</p>
<p><code>"ols"</code> performs an ordinary least squares regression (OLS) and
distributes the residuals uniformly. It is especially useful for comparing
the estimators of GLS and OLS regressions.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Chow, G. C., &amp; Lin, A. L. (1971). Best linear unbiased
interpolation, distribution, and extrapolation of time series by related
series. <em>The review of Economics and Statistics</em>, 372-375.</p>
<p>Denton, F. T. (1971). Adjustment of monthly or quarterly series to annual
totals: an approach based on quadratic minimization. <em>Journal of the
American Statistical Association</em>, 66(333), 99-102.</p>
<p>Santos Silva, J. M. C. &amp; Cardoso, F. N. (2001). The Chow-Lin method using
dynamic models. <em>Economomic Modelling</em>, 18, 269-280.</p>
<p>Wei, W. W. S. (1994). Time series analysis. Addison-Wesley publ.</p>
<p>Sax, C. und Steiner, P. (2013). Temporal Disaggregation of Time Series.
<em>The R Journal</em>, 5(2), 80-88. <a href="https://doi.org/10.32614/RJ-2013-028" class="external-link">doi:10.32614/RJ-2013-028</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="ta.html">ta()</a></code> for temporal aggregation, the inverse function of
<code>td</code>.</p>
<p><code><a href="summary.td.html">summary()</a></code> is used to obtain and print a summary of
the results.</p>
<p><code><a href="predict.td.html">predict()</a></code> is used to extract the disaggregated or
interpolated high frequency series.</p>
<p><code><a href="plot.td.html">plot()</a></code> is used to plot the fitted and actual low
frequency series, as well as the residuals.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">tempdisagg</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># one indicator, no intercept</span></span></span>
<span class="r-in"><span><span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu">td</span><span class="op">(</span><span class="va">sales.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">exports.q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span>  <span class="co"># summary statistics</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> td(formula = sales.a ~ 0 + exports.q)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Min     1Q Median     3Q    Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -86.57  29.00  32.27  36.81  59.55 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exports.q 0.0141601  0.0003428   41.31   &lt;2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'chow-lin-maxlog' disaggregation with 'sum' conversion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36 low-freq. obs. converted to 158 high-freq. obs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adjusted R-squared: 0.9362	AR1-Parameter: 0.862</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span>  <span class="co"># residual plot of regression</span></span></span>
<span class="r-plt img"><img src="td-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="td-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># interpolated quarterly series</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># temporally aggregated series is equal to the annual value</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/window.html" class="external-link">window</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="ta.html">ta</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span>, conversion <span class="op">=</span> <span class="st">"sum"</span>, to <span class="op">=</span> <span class="st">"annual"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  start <span class="op">=</span> <span class="fl">1975</span><span class="op">)</span>, <span class="va">sales.a</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># several indicators, including an intercept</span></span></span>
<span class="r-in"><span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu">td</span><span class="op">(</span><span class="va">sales.a</span> <span class="op">~</span> <span class="va">imports.q</span> <span class="op">+</span> <span class="va">exports.q</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># no indicator (Denton-Cholette)</span></span></span>
<span class="r-in"><span><span class="va">mod3</span> <span class="op">&lt;-</span> <span class="fu">td</span><span class="op">(</span><span class="va">sales.a</span> <span class="op">~</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="st">"quarterly"</span>, method <span class="op">=</span> <span class="st">"denton-cholette"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># no indicator (uniform)</span></span></span>
<span class="r-in"><span><span class="va">mod4</span> <span class="op">&lt;-</span> <span class="fu">td</span><span class="op">(</span><span class="va">sales.a</span> <span class="op">~</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="st">"quarterly"</span>, method <span class="op">=</span> <span class="st">"uniform"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dynamic Chow-Lin (Santos Silva and Cardoso, 2001)</span></span></span>
<span class="r-in"><span><span class="co"># (no truncation parameter added, because rho = 0)</span></span></span>
<span class="r-in"><span><span class="va">mod5</span> <span class="op">&lt;-</span> <span class="fu">td</span><span class="op">(</span><span class="va">sales.a</span> <span class="op">~</span> <span class="va">exports.q</span>, method <span class="op">=</span> <span class="st">"dynamic-maxlog"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example from Denton (1971), see references.</span></span></span>
<span class="r-in"><span><span class="va">d.q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span>, <span class="fl">150</span>, <span class="fl">100</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span>, frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d.a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">400</span>, <span class="fl">300</span>, <span class="fl">400</span>, <span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">a1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="va">d.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">d.q</span>, method <span class="op">=</span> <span class="st">"denton"</span>,</span></span>
<span class="r-in"><span>                 criterion <span class="op">=</span> <span class="st">"additive"</span>, h <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'denton-cholette' removes the transient movement at the beginning of the series and is preferable to the original 'denton' method in most cases.</span>
<span class="r-in"><span><span class="va">a2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="va">d.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">d.q</span>, method <span class="op">=</span> <span class="st">"denton"</span>,</span></span>
<span class="r-in"><span>                 criterion <span class="op">=</span> <span class="st">"additive"</span>, h <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'denton-cholette' removes the transient movement at the beginning of the series and is preferable to the original 'denton' method in most cases.</span>
<span class="r-in"><span><span class="va">a3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="va">d.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">d.q</span>, method <span class="op">=</span> <span class="st">"denton"</span>,</span></span>
<span class="r-in"><span>                 criterion <span class="op">=</span> <span class="st">"additive"</span>, h <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'denton-cholette' removes the transient movement at the beginning of the series and is preferable to the original 'denton' method in most cases.</span>
<span class="r-in"><span><span class="va">a4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="va">d.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">d.q</span>, method <span class="op">=</span> <span class="st">"denton"</span>,</span></span>
<span class="r-in"><span>                 criterion <span class="op">=</span> <span class="st">"additive"</span>, h <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'denton-cholette' removes the transient movement at the beginning of the series and is preferable to the original 'denton' method in most cases.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="va">d.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">d.q</span>, method <span class="op">=</span> <span class="st">"denton"</span>,</span></span>
<span class="r-in"><span>                 criterion <span class="op">=</span> <span class="st">"proportional"</span>, h <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'denton-cholette' removes the transient movement at the beginning of the series and is preferable to the original 'denton' method in most cases.</span>
<span class="r-in"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="va">d.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">d.q</span>, method <span class="op">=</span> <span class="st">"denton"</span>,</span></span>
<span class="r-in"><span>                 criterion <span class="op">=</span> <span class="st">"proportional"</span>, h <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'denton-cholette' removes the transient movement at the beginning of the series and is preferable to the original 'denton' method in most cases.</span>
<span class="r-in"><span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="va">d.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">d.q</span>, method <span class="op">=</span> <span class="st">"denton"</span>,</span></span>
<span class="r-in"><span>                 criterion <span class="op">=</span> <span class="st">"proportional"</span>, h <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'denton-cholette' removes the transient movement at the beginning of the series and is preferable to the original 'denton' method in most cases.</span>
<span class="r-in"><span><span class="va">p4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="va">d.a</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">d.q</span>, method <span class="op">=</span> <span class="st">"denton"</span>,</span></span>
<span class="r-in"><span>                 criterion <span class="op">=</span> <span class="st">"proportional"</span>, h <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'denton-cholette' removes the transient movement at the beginning of the series and is preferable to the original 'denton' method in most cases.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Table in Denton (1971), page 101:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">d.q</span>, <span class="va">a1</span>, <span class="va">a2</span>, <span class="va">a3</span>, <span class="va">a4</span>, <span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, <span class="va">p4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      d.q  a1  a2  a3  a4  p1  p2  p3  p4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Q1  50  75  67  62  59  56  57  55  54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Q2 100 125 127 125 123 122 124 122 120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Q3 150 175 180 182 184 200 194 194 195</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Q4 100 125 126 130 134 122 125 129 132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Q1  50  50  65  70  74  50  58  61  62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Q2 100 100 105 106 107 100 107 109 111</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Q3 150 150 145 142 141 150 146 145 144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Q4 100 100  85  81  78 100  89  85  83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Q1  50  25  27  24  22  44  40  39  38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Q2 100  75  73  72  71  78  74  73  72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Q3 150 125 123 124 125 100 109 110 111</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Q4 100  75  78  80  81  78  77  78  79</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Q1  50  50  37  38  39  50  43  43  43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Q2 100 100  96  96  96 100  94  94  94</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Q3 150 150 154 155 154 150 153 154 153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Q4 100 100 112 112 111 100 110 110 110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Q1  50  75  69  68  67  56  58  58  58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Q2 100 125 124 123 123 122 123 121 122</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Q3 150 175 178 178 178 200 190 189 190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Q4 100 125 129 132 132 122 129 131 130</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using altvernative time series classes (see https://docs.ropensci.org/tsbox/)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/tsbox/" class="external-link">tsbox</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sales.a.xts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_ts.html" class="external-link">ts_xts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/window.html" class="external-link">window</a></span><span class="op">(</span><span class="va">sales.a</span>, start <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">exports.q.xts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_ts.html" class="external-link">ts_xts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/window.html" class="external-link">window</a></span><span class="op">(</span><span class="va">exports.q</span>, start <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod1b</span> <span class="op">&lt;-</span> <span class="fu">td</span><span class="op">(</span><span class="va">sales.a.xts</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">exports.q.xts</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">mod1b</span><span class="op">)</span>  <span class="co"># class 'xts'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># non-standard frequencies: decades to years</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="fu">td</span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_ts.html" class="external-link">ts_xts</a></span><span class="op">(</span><span class="va">uspop</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1</span>, <span class="st">"mean"</span>, to <span class="op">=</span> <span class="st">"year"</span>, method <span class="op">=</span> <span class="st">"fast"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># quarter to daily (no indicator)</span></span></span>
<span class="r-in"><span><span class="va">m.d.noind</span> <span class="op">&lt;-</span> <span class="fu">td</span><span class="op">(</span><span class="va">gdp.q</span> <span class="op">~</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="st">"daily"</span>, method <span class="op">=</span> <span class="st">"fast"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">m.d.noind</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># quarter to daily (one indicator)</span></span></span>
<span class="r-in"><span><span class="va">m.d.stocks</span> <span class="op">&lt;-</span> <span class="fu">td</span><span class="op">(</span><span class="va">gdp.q</span> <span class="op">~</span> <span class="va">spi.d</span>, method <span class="op">=</span> <span class="st">"chow-lin-fixed"</span>, fixed.rho <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">m.d.stocks</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://cynkra.com/about/#christoph" class="external-link">Christoph Sax</a>, Peter Steiner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>
Sponsored by <a href="https://cynkra.com" class="external-link">cynkra</a> <span class="cynkra-square"></span>
</p>
</div>

    </footer></div>





  </body></html>

